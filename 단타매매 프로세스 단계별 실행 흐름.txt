 âš¡ ë‹¨íƒ€ë§¤ë§¤ í”„ë¡œì„¸ìŠ¤ ë‹¨ê³„ë³„ ì‹¤í–‰ íë¦„

  ğŸš€ 1ë‹¨ê³„: ì‹œìŠ¤í…œ ì´ˆê¸°í™” (INIT Phase)

  # support/minimal_day_trader.py:86-105
  async def run(self):
      self.is_running = True
      self.stop_requested = False

      # 1.1 ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹¤í–‰
      if not await self._initialize_systems():
          return False

  ì„¸ë¶€ í”„ë¡œì„¸ìŠ¤ (1.1):
  - API ì—°ê²° ì´ˆê¸°í™”: KIS OpenAPI í† í° ë°œê¸‰ ë° ì—°ê²° í™•ì¸
  - ì„¸ì…˜ ê³„ì¢Œ ê´€ë¦¬ì ì´ˆê¸°í™”: ì‹¤ì‹œê°„ ê³„ì¢Œ ì •ë³´ ê´€ë¦¬ ê°ì²´ ìƒì„±
  - ë©”ëª¨ë¦¬ ê´€ë¦¬ì ì´ˆê¸°í™”: ê±°ë˜ í›„ ê³„ì¢Œ ìƒíƒœ ê°±ì‹  ê´€ë¦¬
  - í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì´ˆê¸°í™”: ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ ì„¤ì •
  - ê³„ì¢Œ ì •ë³´ ì¡°íšŒ: ì´ˆê¸° ê³„ì¢Œ ì”ê³  ë° ë³´ìœ  ì¢…ëª© í™•ì¸
  - ì¢…ëª© ë°ì´í„° ë¡œë“œ: ê¸‰ë“±ì¢…ëª© ë°ì´í„° ìˆ˜ì§‘ ì¤€ë¹„

  ğŸ”„ 2ë‹¨ê³„: ì—°ê²° ë° ì‚¬ì „ ì´ˆê¸°í™” (CONNECTION Phase)

  # support/minimal_day_trader.py:123-131
  if not await self._pre_day_trading_initialization():
      return False

  ì„¸ë¶€ í”„ë¡œì„¸ìŠ¤ (2.1-2.6):
  - 2.1 ê³„ì¢Œ ì¡°íšŒ: ì„œë²„ ì—°ê²° í™•ì¸ (ìµœëŒ€ 3íšŒ ì¬ì‹œë„)
  - 2.2 í† í° ê²€ì¦: API ì•¡ì„¸ìŠ¤ í† í° ìœ íš¨ì„± í™•ì¸
  - 2.3 ì‹¤ì‹œê°„ ê³„ì¢Œ ì •ë³´ ì—…ë°ì´íŠ¸: ì˜ˆìˆ˜ê¸ˆ, ì£¼ë¬¸ê°€ëŠ¥ê¸ˆì•¡, ë³´ìœ ì¢…ëª© ì¡°íšŒ
  - 2.4 ì „ë‚ ì”ê³ ì²˜ë¦¬: ì´ì „ì¼ ë³´ìœ ì¢…ëª© ë§¤ë„/ë³´ìœ  ê²°ì •
  - 2.5 ê¸‰ë“±ì¢…ëª© ìˆ˜ì§‘: í•œíˆ¬ APIë¡œ ì‹¤ì‹œê°„ ê¸‰ë“±ì¢…ëª© ìˆ˜ì§‘ (ìµœëŒ€ 10ê°œ)
  - 2.6 í…”ë ˆê·¸ë¨ ì‹œì‘ ì•Œë¦¼: ê³„ì¢Œ ì •ë³´ ë° ê¸‰ë“±ì¢…ëª© ì •ë³´ ì „ì†¡

  ğŸ” 3ë‹¨ê³„: ë‹¨íƒ€ë§¤ë§¤ ìˆœí™˜ ì‹¤í–‰ (TRADING Phase)

  # support/minimal_day_trader.py:144-201
  while self.is_running and not self.stop_requested:
      cycle_count += 1
      cycle_result = await self._execute_day_trading_cycle(cycle_count)

  ê° ì‚¬ì´í´ë³„ ì„¸ë¶€ í”„ë¡œì„¸ìŠ¤:

  3.1 ê¸‰ë“±ì¢…ëª© ì¬ìˆ˜ì§‘ (ë§¤ ì‚¬ì´í´ë§ˆë‹¤)

  # support/minimal_day_trader.py:513-527
  if self.algorithm and hasattr(self.algorithm, 'collect_surge_stocks'):
      surge_collection_success = await self.algorithm.collect_surge_stocks(self)

  3.2 ê³„ì¢Œ ì •ë³´ ì—…ë°ì´íŠ¸

  # support/minimal_day_trader.py:529-540
  await self.memory_manager.update_account_info()
  account_info = self.memory_manager.get_account_info()

  3.3 í˜„ì¬ í¬ì§€ì…˜ í™•ì¸

  # support/minimal_day_trader.py:541-562
  current_positions_list = self.memory_manager.get_positions()
  position_count = len(current_positions_list)

  3.4 ë§¤ë„ ì‹ í˜¸ ì²˜ë¦¬ (ë³´ìœ  ì¢…ëª© ëŒ€ìƒ)

  # support/minimal_day_trader.py:564-565
  sell_results = await self._process_sell_signals(current_positions)

  ë§¤ë„ ì²˜ë¦¬ ì„¸ë¶€ ë‹¨ê³„:
  - 3.4.1 ë³´ìœ  ì¢…ëª©ë³„ í˜„ì¬ ë°ì´í„° ì¡°íšŒ
  - 3.4.2 AI ì•Œê³ ë¦¬ì¦˜ ë¶„ì„ (GPT-5 ê¸°ë°˜)
  - 3.4.3 ë§¤ë„ ì¡°ê±´ í™•ì¸:
    - AI ì‹ í˜¸ê°€ 'SELL'
    - ì†ì ˆ ì¡°ê±´ (-3% ì´í•˜)
    - ìµì ˆ ì¡°ê±´ (+2% ì´ìƒ)
  - 3.4.4 ë§¤ë„ ì£¼ë¬¸ ì‹¤í–‰ ë° ê²°ê³¼ ê¸°ë¡

  3.5 ë§¤ìˆ˜ ì‹ í˜¸ ì²˜ë¦¬ (ì‹ ê·œ ì¢…ëª© ëŒ€ìƒ)

  # support/minimal_day_trader.py:567-575
  if position_count < self.max_positions:
      buy_results = await self._process_buy_signals(account_info, current_positions)

  ë§¤ìˆ˜ ì²˜ë¦¬ ì„¸ë¶€ ë‹¨ê³„:
  - 3.5.1 ë§¤ìˆ˜ ê°€ëŠ¥ í˜„ê¸ˆ í™•ì¸ (ìµœì†Œ 10,000ì›)
  - 3.5.2 ë‹¨íƒ€ ë§¤ìˆ˜ í›„ë³´ ì¢…ëª© ì„ ë³„ (ê¸‰ë“±ì¢…ëª© ê¸°ë°˜)
  - 3.5.3 ì¢…ëª©ë³„ ë¶„ì„ (ìµœëŒ€ 10ê°œ):
    - í˜„ì¬ê°€, ì „ì¼ëŒ€ë¹„, ê±°ë˜ëŸ‰ ì¡°íšŒ
    - AI ì•Œê³ ë¦¬ì¦˜ ë¶„ì„ (ì‹ ë¢°ë„ í¬í•¨)
    - ë§¤ìˆ˜ ì¡°ê±´ í™•ì¸ (ì‹ í˜¸='BUY' & ì‹ ë¢°ë„ > ì„ê³„ê°’)
  - 3.5.4 ë§¤ìˆ˜ ì£¼ë¬¸ ì‹¤í–‰ ë° ê²°ê³¼ ê¸°ë¡

  3.6 ì‚¬ì´í´ ê²°ê³¼ ì •ë¦¬ ë° ì „ì†¡

  # support/minimal_day_trader.py:577-588
  cycle_result = {
      'cycle_number': cycle_number,
      'timestamp': start_time.strftime('%H:%M:%S'),
      'account_balance': account_info.get('cash_balance', 0),
      'position_count': position_count,
      'sell_results': sell_results,
      'buy_results': buy_results,
      'session_stats': self.memory_manager.get_session_stats()
  }

  3.7 ì‚¬ì´í´ ê°„ê²© ëŒ€ê¸°

  # support/minimal_day_trader.py:187-201
  dynamic_interval = self._get_cycle_interval()
  await self._safe_sleep(dynamic_interval, f"ì‚¬ì´í´ {cycle_count + 1}")

  ë™ì  ì‚¬ì´í´ ê°„ê²©:
  - ê¸°ë³¸ 3ë¶„ (180ì´ˆ) ê°„ê²©
  - ì‹œê°„ëŒ€ë³„ ë™ì  ì¡°ì • ê°€ëŠ¥
  - ì˜¤ë¥˜ ë°œìƒ ì‹œ 30ì´ˆ ëŒ€ê¸° í›„ ì¬ì‹œë„

  ğŸ 4ë‹¨ê³„: ì¢…ë£Œ ì²˜ë¦¬ (FINALIZATION)

  # support/minimal_day_trader.py:203-221
  await self._finalize_day_trading()

  # finally ë¸”ë¡ì—ì„œ:
  self.is_running = False
  if self.account_manager:
      self.account_manager.end_session()

  ì¢…ë£Œ ì²˜ë¦¬ ì„¸ë¶€ ë‹¨ê³„:
  - 4.1 ìµœì¢… ê³„ì¢Œ ìƒíƒœ ì¡°íšŒ ë° ê¸°ë¡
  - 4.2 ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬
  - 4.3 í…”ë ˆê·¸ë¨ ì¢…ë£Œ ì•Œë¦¼ ì „ì†¡
  - 4.4 ë¦¬ì†ŒìŠ¤ ì •ë¦¬ ë° ë¡œê·¸ ê¸°ë¡

  â±ï¸ ì‹¤ì œ ì‹¤í–‰ ì‹œê°„ ë° ì£¼ê¸°

  - ì´ˆê¸°í™”: ì•½ 10-15ì´ˆ
  - ê° ì‚¬ì´í´: ì•½ 3-5ë¶„ (ë¶„ì„ ì‹œê°„ + 3ë¶„ ëŒ€ê¸°)
  - ì¼ì¼ ì´ ì‚¬ì´í´: ì•½ 100-130íšŒ (09:05-15:20 ê¸°ì¤€)
  - ë§¤ë„ ë¶„ì„: ë³´ìœ  ì¢…ëª©ë‹¹ ì•½ 2-3ì´ˆ
  - ë§¤ìˆ˜ ë¶„ì„: ê¸‰ë“±ì¢…ëª© 10ê°œë‹¹ ì•½ 20-30ì´ˆ

â— ğŸ¯ í•µì‹¬ íŠ¹ì§• ë° ìš´ì˜ ì›ë¦¬

  ğŸ”„ ìˆœí™˜ êµ¬ì¡°

  - ë¬´í•œ ë£¨í”„: while self.is_running ì¡°ê±´ìœ¼ë¡œ ì§€ì† ì‹¤í–‰
  - ì¤‘ë‹¨ ì¡°ê±´: íŒŒì¼ ê¸°ë°˜ ì¤‘ë‹¨ ì‹ í˜¸, ì‹œê°„ ì´ˆê³¼, ì„œë²„ ì˜¤ë¥˜ ì‹œ ìë™ ì¢…ë£Œ
  - ì˜¤ë¥˜ ë³µêµ¬: ê°œë³„ ì‚¬ì´í´ ì˜¤ë¥˜ ì‹œ 30ì´ˆ ëŒ€ê¸° í›„ ë‹¤ìŒ ì‚¬ì´í´ ê³„ì† ì§„í–‰

  ğŸ§  AI ê¸°ë°˜ ë¶„ì„

  - GPT-5 ì—”ì§„: ì‹¤ì‹œê°„ ì¢…ëª© ë¶„ì„ ë° ë§¤ë§¤ ì‹ í˜¸ ìƒì„±
  - ì‹ ë¢°ë„ ê¸°ë°˜: ë§¤ìˆ˜ ê²°ì • ì‹œ AI ì‹ ë¢°ë„ ì„ê³„ê°’ ì ìš©
  - ìƒí™© ì¸ì‹: ë³´ìœ  ì¢…ëª©(ë§¤ë„ ë¶„ì„) vs ì‹ ê·œ ì¢…ëª©(ë§¤ìˆ˜ ë¶„ì„) êµ¬ë¶„

  ğŸ“Š ë¦¬ìŠ¤í¬ ê´€ë¦¬

  - í¬ì§€ì…˜ ì œí•œ: ìµœëŒ€ 5ê°œ ì¢…ëª© ë™ì‹œ ë³´ìœ 
  - ìë™ ì†ì ˆ: -3% ì†ì‹¤ ì‹œ ìë™ ë§¤ë„
  - ìë™ ìµì ˆ: +2% ìˆ˜ìµ ì‹œ ìë™ ë§¤ë„
  - ìê¸ˆ ê´€ë¦¬: ì¢…ëª©ë‹¹ 7% ì´í•˜ íˆ¬ì (ì„¤ì • ê°€ëŠ¥)