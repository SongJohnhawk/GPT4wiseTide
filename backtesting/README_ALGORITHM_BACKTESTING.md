# tideWise 알고리즘 백테스팅 도구

독립 실행형 백테스팅 도구로, Algorithm 폴더의 알고리즘들을 선택하여 백테스팅을 수행할 수 있습니다.

## 🚀 실행 방법

### Windows
```bash
# 방법 1: 배치 파일 실행 (권장)
run_algorithm_backtesting.bat

# 방법 2: 직접 Python 실행
python algorithm_backtesting_tool.py
```

### Linux/Mac
```bash
# 방법 1: 쉘 스크립트 실행 (권장)
./run_algorithm_backtesting.sh

# 방법 2: 직접 Python 실행
python3 algorithm_backtesting_tool.py
```

## 📊 지원 기능

### 사용 가능한 알고리즘
1. **SafeSimpleAlgorithm** - 안전한 기본 알고리즘 (보수적 매매)
2. **VolumePriceAnalysisAlgorithm** - 거래량-가격 분석 알고리즘 (기술적 분석 중심)  
3. **EnhancedDataTradingAlgorithm** - 향상된 데이터 기반 알고리즘 (데이터 중심 의사결정)
4. **OptimizedHybridAlgorithm** - 최적화된 하이브리드 알고리즘 (복합 전략)

### 백테스팅 설정
- **테스트 기간**: 사용자 정의 (기본값: 30일)
- **초기 자본**: 사용자 정의 (기본값: 1,000만원)
- **테스트 종목 수**: 사용자 정의 (기본값: 5개)
- **테스트 종목**: 대표적인 우량주 10개에서 선택

### 테스트 종목 목록
- 005930: 삼성전자
- 000660: SK하이닉스
- 035420: NAVER
- 051910: LG화학
- 006400: 삼성SDI
- 028260: 삼성물산
- 012330: 현대모비스
- 035720: 카카오
- 096770: SK이노베이션
- 068270: 셀트리온

## 📈 백테스팅 결과

### 성과 지표
- **총 수익률**: 백테스팅 기간 동안의 전체 수익률
- **성공률**: 수익을 낸 거래의 비율
- **최대 낙폭**: 최대 손실 구간
- **샤프 비율**: 위험 대비 수익률
- **총 거래 횟수**: 백테스팅 기간 중 실행된 거래 수
- **평균 거래당 수익**: 거래당 평균 수익률
- **최대 연속 손실/수익**: 연속 손실 및 수익 횟수
- **변동성**: 수익률의 표준편차

### 결과 파일
백테스팅 완료 후 다음 파일들이 생성됩니다:

#### `backtest_results/` 폴더
- **JSON 결과 파일**: `{알고리즘명}_backtest_{타임스탬프}.json`
  - 전체 백테스팅 데이터 (설정, 결과, 상세 분석)
  - 프로그래밍적 분석 가능한 구조화된 데이터

- **텍스트 리포트**: `{알고리즘명}_report_{타임스탬프}.md`  
  - 사람이 읽기 쉬운 마크다운 형태의 상세 리포트
  - 성과 분석 및 권장사항 포함

## 🛠️ 시스템 요구사항

### 필수 요구사항
- Python 3.8 이상
- tideWise 프로젝트의 완전한 설치
- 백테스팅용 시장 데이터 (backtesting/data 폴더)

### 의존성 모듈
백테스팅 도구는 다음 tideWise 모듈들을 사용합니다:
- `Algorithm/` 폴더의 모든 알고리즘 클래스
- `backtesting/specialized_backtesting_engine.py`
- 기타 프로젝트 의존성 모듈들

## 🔧 사용 가이드

### 1단계: 실행
```bash
# Windows
run_algorithm_backtesting.bat

# Linux/Mac  
./run_algorithm_backtesting.sh
```

### 2단계: 알고리즘 선택
```
📊 사용 가능한 알고리즘:
--------------------------------------------------
1. SafeSimpleAlgorithm
   설명: 안전한 기본 알고리즘 - 보수적 매매

2. VolumePriceAnalysisAlgorithm
   설명: 거래량-가격 분석 알고리즘 - 기술적 분석 중심

3. EnhancedDataTradingAlgorithm
   설명: 향상된 데이터 기반 알고리즘 - 데이터 중심 의사결정

4. OptimizedHybridAlgorithm
   설명: 최적화된 하이브리드 알고리즘 - 복합 전략

백테스팅할 알고리즘 번호를 선택하세요 (1-4, 0=종료):
```

### 3단계: 백테스팅 설정
```
⚙️ 백테스팅 설정:
------------------------------
백테스팅 기간 (일, 기본값: 30): 60
초기 투자 자본 (원, 기본값: 10000000): 50000000  
테스트 종목 수 (개, 기본값: 5): 8
```

### 4단계: 결과 확인
백테스팅이 완료되면 콘솔에 요약 결과가 표시되고, 상세 리포트 파일이 생성됩니다.

## 💡 활용 팁

### 효과적인 백테스팅을 위한 권장사항
1. **다양한 기간 테스트**: 30일, 60일, 90일 등 다양한 기간으로 테스트
2. **여러 알고리즘 비교**: 모든 알고리즘을 동일한 조건에서 테스트하여 비교
3. **자본 규모별 테스트**: 소액, 중간, 대액으로 나누어 테스트
4. **정기적 재검증**: 시장 상황 변화에 따른 성과 변화 모니터링

### 결과 해석 가이드
- **총 수익률 > 10% AND 성공률 > 60%**: 우수한 성과, 실전 적용 고려 가능
- **총 수익률 > 5% AND 성공률 > 50%**: 양호한 성과, 소액 실전 테스트 고려
- **그 외**: 파라미터 조정 및 추가 최적화 필요

## 🚨 주의사항

### 백테스팅 한계
- **과적합 위험**: 과거 데이터에만 최적화된 결과일 수 있음
- **슬리피지 미고려**: 실제 거래 시 발생하는 슬리피지 비용 미포함
- **시장 변화**: 과거 패턴이 미래에도 유효하다고 보장할 수 없음
- **거래 비용**: 수수료, 세금 등의 실제 거래 비용 일부만 반영

### 실전 적용 전 고려사항
1. **소액 실전 테스트**: 백테스팅 결과가 좋아도 소액으로 먼저 테스트
2. **리스크 관리**: 손절매, 포지션 사이징 등 리스크 관리 규칙 준수
3. **지속적 모니터링**: 실전 성과를 지속적으로 모니터링하고 평가
4. **시장 환경 고려**: 현재 시장 상황이 백테스팅 기간과 유사한지 확인

## 📞 문제 해결

### 자주 발생하는 오류
1. **모듈 가져오기 오류**: tideWise 프로젝트 루트에서 실행 확인
2. **데이터 없음 오류**: backtesting/data 폴더에 시장 데이터 존재 확인
3. **권한 오류**: 백테스팅 결과 저장을 위한 쓰기 권한 확인
4. **메모리 부족**: 테스트 종목 수나 기간을 줄여서 재시도

### 지원 및 문의
- 프로젝트 이슈: tideWise GitHub 리포지토리
- 백테스팅 관련: backtesting/WORK_RECORD.md 참조

---

**✨ tideWise 백테스팅 도구 v1.0**  
*독립적이고 사용하기 쉬운 알고리즘 성과 검증 도구*