# tideWise 자동매매 시스템 원칙 및 기준

본 문서는 tideWise 시스템에서 개별 알고리즘과 독립적으로 적용되는 자동매매 원칙, 기준, 규칙들을 정리한 문서입니다.

## 📋 포지션 관리 (Position Management)

항목: 최대 보유 포지션 수
값: 5개
설명: 동시에 보유할 수 있는 최대 종목 수

항목: 포지션 크기 비율
값: 10%
설명: 계좌 대비 단일 포지션 기본 크기

항목: 최대 포지션 비중
값: 20%
설명: 단일 종목에 투자할 수 있는 최대 비율

항목: 최소 포지션 비중
값: 1%
설명: 단일 종목에 투자해야 하는 최소 비율

## 🛡️ 리스크 관리 (Risk Management)

항목: 일일 최대 손실한도
값: 5%
설명: 하루 최대 허용 손실률

항목: 전체 리스크 한도
값: 15%
설명: 계좌 전체 리스크 허용 한도

항목: 연속 손실 허용횟수
값: 3회
설명: 연속으로 허용하는 최대 손실 거래 수

항목: 최대 낙폭 한도
값: 10%
설명: 계좌 최대 드로다운 허용 한도

## ⏰ 거래 세션 관리 (Trading Session)

항목: 장 시작 시간
값: 09:00
설명: 정규 거래 시작 시간

항목: 장 마감 시간
값: 15:30
설명: 정규 거래 마감 시간

항목: 오전 세션 종료
값: 12:00
설명: 오전 거래 세션 종료

항목: 오후 세션 시작
값: 13:00
설명: 오후 거래 세션 시작

항목: 오후 세션 종료
값: 15:20
설명: 오후 거래 세션 종료 (청산 준비)

항목: 오전 매매 간격
값: 300초 (5분)
설명: 오전 자동매매 실행 간격

항목: 오후 매매 간격
값: 300초 (5분)
설명: 오후 자동매매 실행 간격

항목: 장 시작 전 준비시간
값: 30분
설명: 시장 개장 전 시스템 준비 시간

항목: 장 마감 후 정리시간
값: 30분
설명: 시장 폐장 후 시스템 정리 시간

항목: 장전 청산 기능
값: 활성화
설명: 09:00-09:01 장전 청산 실행

## 🚨 긴급 매도 규칙 (Emergency Sell)

항목: 급락 감지 활성화
값: True
설명: 급락 상황 자동 감지 기능

항목: 급락 기준
값: -3.0%
설명: 급락으로 판단하는 하락률 기준

항목: VI 감지 활성화
값: True
설명: 변동성완화장치(VI) 발동 감지

항목: 거래량 급증 비율
값: 3.0배
설명: 평균 대비 거래량 급증 기준

항목: 급락시 즉시 매도
값: True
설명: 급락 감지시 매매간격 무시하고 즉시 매도

항목: VI시 즉시 매도
값: True
설명: VI 발동시 매매간격 무시하고 즉시 매도

## 📝 주문 관리 (Order Management)

항목: 주문 타임아웃
값: 300초 (5분)
설명: 주문 실행 최대 대기 시간

항목: 주문 재시도 횟수
값: 3회
설명: 주문 실패시 최대 재시도 횟수

항목: 부분체결 허용 비율
값: 80%
설명: 부분체결 허용 최소 비율

항목: 호가 이탈 허용범위
값: 2%
설명: 현재가 대비 주문가격 허용 범위

## 📊 모니터링 설정 (Monitoring)

항목: 포지션 체크 간격
값: 60초 (1분)
설명: 보유 포지션 상태 확인 주기

항목: 시장 스캔 간격
값: 300초 (5분)
설명: 전체 시장 상황 스캔 주기

항목: 시스템 헬스체크 간격
값: 600초 (10분)
설명: 시스템 상태 점검 주기

항목: 데이터 갱신 간격
값: 900초 (15분)
설명: 시장 데이터 갱신 주기

## 🔍 종목 필터링 (Stock Filters)

항목: 최소 거래량
값: 100,000주
설명: 매매 가능 종목 최소 일일 거래량

항목: 최소 시가총액
값: 1,000억원
설명: 매매 가능 종목 최소 시가총액

항목: 최대 변동성
값: 15%
설명: 매매 가능 종목 최대 일일 변동성

항목: 제외 업종
값: [] (현재 없음)
설명: 매매에서 제외할 업종 목록

항목: 블랙리스트
값: [] (현재 없음)
설명: 매매 금지 종목 목록

## 💰 거래 비용 (Trading Costs)

항목: 매수 수수료율
값: 0.15%
설명: 매수시 적용되는 수수료율

항목: 매도 수수료율
값: 0.15%
설명: 매도시 적용되는 수수료율

항목: 매도세율
값: 0.25%
설명: 매도시 적용되는 증권거래세

항목: 슬리피지율
값: 0.1%
설명: 예상 슬리피지 (시장 충격 비용)

항목: 최소 수수료
값: 1,000원
설명: 거래당 최소 수수료

## 🎯 VI 감지 설정 (Volatility Interruption)

위험도: LOW
변동률 기준: 5%
조치 사항: 거래 지속

위험도: MEDIUM
변동률 기준: 10%
조치 사항: 포지션 축소

위험도: HIGH
변동률 기준: 15%
조치 사항: 즉시 매도

## 🔄 API 제한 (Rate Limiting)

항목: 분당 최대 API 호출
값: 20회
설명: API 서버 부하 방지를 위한 제한

항목: 요청 간 지연시간
값: 1.0초
설명: API 요청 사이 최소 대기 시간

항목: 최대 재시도 횟수
값: 3회
설명: API 호출 실패시 최대 재시도

## 🎮 백테스팅 설정 (Backtesting)

항목: 초기 자본금
값: 10,000,000원
설명: 백테스팅 시작 자본금

항목: 최대 포지션 크기
값: 20%
설명: 백테스팅에서 단일 종목 최대 비중

항목: 최대 보유 종목수
값: 5개
설명: 백테스팅에서 동시 보유 가능 종목 수

항목: 무위험 수익률
값: 2.5%
설명: 연간 무위험 수익률 (국고채 기준)

항목: 벤치마크
값: KOSPI200
설명: 성과 비교 기준 지수

항목: 리밸런싱 주기
값: 일일
설명: 포트폴리오 재조정 주기

## 📁 설정 파일 위치

주요 설정 파일들:
- support/trading_rules.json: 매매 규칙 JSON 설정
- support/trading_rules.py: 매매 규칙 관리 클래스
- backtesting/backtesting_config.json: 백테스팅 설정
- support/api_connector.py: API 연결 및 제한 설정

## ⚠️ 중요 사항

1. 모든 설정값들은 개별 알고리즘과 완전히 독립적으로 적용됩니다.
2. 긴급 매도 규칙은 모든 알고리즘보다 우선적으로 적용됩니다.
3. 매매 간격 설정은 모든 자동매매에 공통으로 적용됩니다.
4. 리스크 관리 설정은 계좌 전체에 적용되는 절대적 기준입니다.
5. 설정 변경시 시스템 재시작이 필요할 수 있습니다.

## 📅 문서 정보

작성일: 2025-07-31
버전: v13.0
최종 수정: tideWise 시스템 분석 기반
관련 파일: trading_rules.json, trading_rules.py, backtesting_config.json

=== 문서 끝 ===