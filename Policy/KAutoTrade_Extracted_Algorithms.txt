===== Trading_Rule.md =====
# tideWise ë§¤ë§¤ ì›ì¹™ ë° ê·œì¹™ ì„¤ì •

ì´ íŒŒì¼ì€ tideWise ì‹œìŠ¤í…œ ìì²´ì—ì„œ ì ìš©í•˜ëŠ” ë§¤ë§¤ ì›ì¹™ê³¼ ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤.
ì•Œê³ ë¦¬ì¦˜ íŠ¹í™” ê·œì¹™ì€ ì œì™¸í•˜ê³ , ì‹œìŠ¤í…œ ì „ë°˜ì— ì ìš©ë˜ëŠ” ê¸°ë³¸ ì›ì¹™ë§Œ í¬í•¨ë©ë‹ˆë‹¤.

---

## ğŸ¯ ì‚¬ìš©ì ì§€ì •ì¢…ëª© ê´€ë¦¬ ê·œì¹™

### ìˆ˜ìµë¥  ì•Œë¦¼ ì„¤ì •
```
PROFIT_NOTIFICATION_THRESHOLD = "0.30"  # 30% ì´ìƒ ìˆ˜ìµì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼
```

### ì‚¬ìš©ì ì§€ì •ì¢…ëª© ëª©ë¡ (17ê°œ)
```
USER_DESIGNATED_STOCKS = {
    "005930": {"name": "ì‚¼ì„±ì „ì", "target_quantity": "20"},
    "009540": {"name": "í•œí™”ì˜¤ì…˜", "target_quantity": "20"},
    "267260": {"name": "HDí˜„ëŒ€ì¼ë ‰íŠ¸ë¦­", "target_quantity": "5"},
    "267250": {"name": "HDí˜„ëŒ€ì¤‘ê³µì—…", "target_quantity": "5"},
    "373220": {"name": "LGì—ë„ˆì§€ì†”ë£¨ì…˜", "target_quantity": "10"},
    "375500": {"name": "DLì´ì—”ì”¨", "target_quantity": "50"},
    "034020": {"name": "ë‘ì‚°ì—ë„ˆë¹Œë¦¬í‹°", "target_quantity": "50"},
    "003490": {"name": "ëŒ€í•œí•­ê³µ", "target_quantity": "20"},
    "000150": {"name": "ë‘ì‚°", "target_quantity": "50"},
    "123330": {"name": "ì œë‹‰", "target_quantity": "20"},
    "117730": {"name": "ë¡œë³´í‹°ì¦ˆ", "target_quantity": "20"},
    "030800": {"name": "ì›ìµí™€ë”©ìŠ¤", "target_quantity": "50"},
    "212560": {"name": "í´ë¡œë´‡", "target_quantity": "20"},
    "454910": {"name": "ë‘ì‚°ë¡œë³´í‹±ìŠ¤", "target_quantity": "20"},
    "000720": {"name": "í˜„ëŒ€ê±´ì„¤", "target_quantity": "20"},
    "196170": {"name": "ì•Œí…Œì˜¤ì  ", "target_quantity": "10"},
    "064350": {"name": "í˜„ëŒ€ë¡œí…œ", "target_quantity": "20"},
    "047810": {"name": "í•œêµ­í•­ê³µìš°ì£¼", "target_quantity": "10"}
}
```

---

## ğŸ’° ë§¤ìˆ˜ ìˆ˜ëŸ‰ ë° ì˜ˆì‚° ê´€ë¦¬ ê·œì¹™

### ì˜ˆì‚° ë¹„ìœ¨ ì œí•œ (ëª¨ë“  ì¢…ëª© ê³µí†µ ì ìš©)
```
POSITION_SIZE_BUDGET_RATIO = "0.07"  # ì˜ˆìˆ˜ê¸ˆì˜ 7%ë¥¼ ë„˜ì§€ ì•Šë„ë¡ ì œí•œ (ëª¨ë“  ì¢…ëª© ëŒ€ìƒ)
MARGIN_RATE = "1.002"  # ìˆ˜ìˆ˜ë£Œ ë° ë§ˆì§„ ê³ ë ¤ (0.2% ì¶”ê°€)
APPLY_TO_ALL_STOCKS = "true"  # ì‚¬ìš©ì ì§€ì •ì¢…ëª©, ê¸‰ë“±ì£¼, ì¼ë°˜ ì¢…ëª© ëª¨ë‘ 7% ì›ì¹™ ì ìš©
```

### ê°€ê²©ë³„ ë§¤ìˆ˜ ìˆ˜ëŸ‰ ì œí•œ
```
# 3ë§Œì› ì´í•˜ ì¢…ëª©
LOW_PRICE_THRESHOLD = "30000"  # 3ë§Œì› ì´í•˜ ê¸°ì¤€
LOW_PRICE_MIN_QUANTITY = "10"  # ìµœì†Œ 10ì£¼ ë§¤ìˆ˜ (ì˜ˆì‚° ì œí•œ ë¬´ì‹œ ê°€ëŠ¥)

# 20ë§Œì› ì´ìƒ ì¢…ëª©
HIGH_PRICE_THRESHOLD = "200000"  # 20ë§Œì› ì´ìƒ ê¸°ì¤€
HIGH_PRICE_MAX_QUANTITY = "5"  # ìµœëŒ€ 5ì£¼ ì œí•œ

# 30ë§Œì› ì´ìƒ ì¢…ëª© (ì†Œì•¡ ê³„ì¢Œ)
ULTRA_HIGH_PRICE_THRESHOLD = "300000"  # 30ë§Œì› ì´ìƒ ê¸°ì¤€
SMALL_ACCOUNT_LIMIT = "10000000"  # ì˜ˆìˆ˜ê¸ˆ 1ì²œë§Œì› ë¯¸ë§Œ ê¸°ì¤€
ULTRA_HIGH_PRICE_MAX_QUANTITY = "2"  # ìµœëŒ€ 2ì£¼ ì œí•œ
```

### ê°€ê²©ëŒ€ë³„ ê¸°ë³¸ ìˆ˜ëŸ‰ ê¸°ì¤€
```
PRICE_THRESHOLDS = {
    "high_price_limit": "200000",  # 20ë§Œì› ì´ìƒ -> ê¸°ë³¸ 10ì£¼
    "low_price_limit": "100000",   # 10ë§Œì› ì´í•˜ -> ê¸°ë³¸ 50ì£¼
    "default_quantity": "20"       # ê¸°íƒ€ -> ê¸°ë³¸ 20ì£¼
}
```

---

## ğŸ“Š ë§¤ë§¤ ì„¸ì…˜ ë° ì‹œê°„ ê´€ë¦¬

### ì¥ ì‹œê°„ ì„¤ì •
```
MARKET_OPEN_TIME = "09:05"      # ì¥ ì‹œì‘ ì‹œê°„
MARKET_CLOSE_TIME = "15:30"     # ì¥ ë§ˆê° ì‹œê°„
MORNING_SESSION_END = "12:00"   # ì˜¤ì „ ì„¸ì…˜ ì¢…ë£Œ
AFTERNOON_SESSION_START = "13:00"  # ì˜¤í›„ ì„¸ì…˜ ì‹œì‘
AFTERNOON_SESSION_END = "15:20"    # ì˜¤í›„ ì„¸ì…˜ ì¢…ë£Œ
AUTO_STOP_TIME = "15:20"        # ìë™ë§¤ë§¤ ì¢…ë£Œ ì‹œê°„
```

### ë§¤ë§¤ ê°„ê²© ì„¤ì •
```
MORNING_TRADING_INTERVAL = "180"    # ì˜¤ì „ ë§¤ë§¤ ê°„ê²© (3ë¶„)
AFTERNOON_TRADING_INTERVAL = "180"  # ì˜¤í›„ ë§¤ë§¤ ê°„ê²© (3ë¶„)
```

### ì „ë‚  ë³´ìœ  ì”ê³  ì²˜ë¦¬
```
PREMARKET_LIQUIDATION_START = "09:05"  # ì „ë‚  ì”ê³  ì²˜ë¦¬ ì‹œì‘
PREMARKET_LIQUIDATION_END = "09:06"    # ì „ë‚  ì”ê³  ì²˜ë¦¬ ì¢…ë£Œ
ENABLE_PREMARKET_LIQUIDATION = "true"  # ì „ë‚  ì”ê³  ì²˜ë¦¬ í™œì„±í™”
```

---

## ğŸš¨ ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë° ê¸´ê¸‰ ë§¤ë„

### í¬ì§€ì…˜ ê´€ë¦¬
```
MAX_POSITIONS = "5"           # ìµœëŒ€ ë³´ìœ  í¬ì§€ì…˜ ìˆ˜
POSITION_SIZE_RATIO = "0.15"  # í¬ì§€ì…˜ í¬ê¸° ë¹„ìœ¨
MAX_POSITION_VALUE = "0.25"   # ìµœëŒ€ í¬ì§€ì…˜ ê°€ì¹˜ ë¹„ìœ¨
MIN_PO


===== Trading_Rules.txt =====
# tideWise ìë™ë§¤ë§¤ ì‹œìŠ¤í…œ ì›ì¹™ ë° ê¸°ì¤€

ë³¸ ë¬¸ì„œëŠ” tideWise ì‹œìŠ¤í…œì—ì„œ ê°œë³„ ì•Œê³ ë¦¬ì¦˜ê³¼ ë…ë¦½ì ìœ¼ë¡œ ì ìš©ë˜ëŠ” ìë™ë§¤ë§¤ ì›ì¹™, ê¸°ì¤€, ê·œì¹™ë“¤ì„ ì •ë¦¬í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

## ğŸ“‹ í¬ì§€ì…˜ ê´€ë¦¬ (Position Management)

í•­ëª©: ìµœëŒ€ ë³´ìœ  í¬ì§€ì…˜ ìˆ˜
ê°’: 5ê°œ
ì„¤ëª…: ë™ì‹œì— ë³´ìœ í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ì¢…ëª© ìˆ˜

í•­ëª©: í¬ì§€ì…˜ í¬ê¸° ë¹„ìœ¨
ê°’: 10%
ì„¤ëª…: ê³„ì¢Œ ëŒ€ë¹„ ë‹¨ì¼ í¬ì§€ì…˜ ê¸°ë³¸ í¬ê¸°

í•­ëª©: ìµœëŒ€ í¬ì§€ì…˜ ë¹„ì¤‘
ê°’: 20%
ì„¤ëª…: ë‹¨ì¼ ì¢…ëª©ì— íˆ¬ìí•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ë¹„ìœ¨

í•­ëª©: ìµœì†Œ í¬ì§€ì…˜ ë¹„ì¤‘
ê°’: 1%
ì„¤ëª…: ë‹¨ì¼ ì¢…ëª©ì— íˆ¬ìí•´ì•¼ í•˜ëŠ” ìµœì†Œ ë¹„ìœ¨

## ğŸ›¡ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬ (Risk Management)

í•­ëª©: ì¼ì¼ ìµœëŒ€ ì†ì‹¤í•œë„
ê°’: 5%
ì„¤ëª…: í•˜ë£¨ ìµœëŒ€ í—ˆìš© ì†ì‹¤ë¥ 

í•­ëª©: ì „ì²´ ë¦¬ìŠ¤í¬ í•œë„
ê°’: 15%
ì„¤ëª…: ê³„ì¢Œ ì „ì²´ ë¦¬ìŠ¤í¬ í—ˆìš© í•œë„

í•­ëª©: ì—°ì† ì†ì‹¤ í—ˆìš©íšŸìˆ˜
ê°’: 3íšŒ
ì„¤ëª…: ì—°ì†ìœ¼ë¡œ í—ˆìš©í•˜ëŠ” ìµœëŒ€ ì†ì‹¤ ê±°ë˜ ìˆ˜

í•­ëª©: ìµœëŒ€ ë‚™í­ í•œë„
ê°’: 10%
ì„¤ëª…: ê³„ì¢Œ ìµœëŒ€ ë“œë¡œë‹¤ìš´ í—ˆìš© í•œë„

## â° ê±°ë˜ ì„¸ì…˜ ê´€ë¦¬ (Trading Session)

í•­ëª©: ì¥ ì‹œì‘ ì‹œê°„
ê°’: 09:00
ì„¤ëª…: ì •ê·œ ê±°ë˜ ì‹œì‘ ì‹œê°„

í•­ëª©: ì¥ ë§ˆê° ì‹œê°„
ê°’: 15:30
ì„¤ëª…: ì •ê·œ ê±°ë˜ ë§ˆê° ì‹œê°„

í•­ëª©: ì˜¤ì „ ì„¸ì…˜ ì¢…ë£Œ
ê°’: 12:00
ì„¤ëª…: ì˜¤ì „ ê±°ë˜ ì„¸ì…˜ ì¢…ë£Œ

í•­ëª©: ì˜¤í›„ ì„¸ì…˜ ì‹œì‘
ê°’: 13:00
ì„¤ëª…: ì˜¤í›„ ê±°ë˜ ì„¸ì…˜ ì‹œì‘

í•­ëª©: ì˜¤í›„ ì„¸ì…˜ ì¢…ë£Œ
ê°’: 15:20
ì„¤ëª…: ì˜¤í›„ ê±°ë˜ ì„¸ì…˜ ì¢…ë£Œ (ì²­ì‚° ì¤€ë¹„)

í•­ëª©: ì˜¤ì „ ë§¤ë§¤ ê°„ê²©
ê°’: 300ì´ˆ (5ë¶„)
ì„¤ëª…: ì˜¤ì „ ìë™ë§¤ë§¤ ì‹¤í–‰ ê°„ê²©

í•­ëª©: ì˜¤í›„ ë§¤ë§¤ ê°„ê²©
ê°’: 300ì´ˆ (5ë¶„)
ì„¤ëª…: ì˜¤í›„ ìë™ë§¤ë§¤ ì‹¤í–‰ ê°„ê²©

í•­ëª©: ì¥ ì‹œì‘ ì „ ì¤€ë¹„ì‹œê°„
ê°’: 30ë¶„
ì„¤ëª…: ì‹œì¥ ê°œì¥ ì „ ì‹œìŠ¤í…œ ì¤€ë¹„ ì‹œê°„

í•­ëª©: ì¥ ë§ˆê° í›„ ì •ë¦¬ì‹œê°„
ê°’: 30ë¶„
ì„¤ëª…: ì‹œì¥ íì¥ í›„ ì‹œìŠ¤í…œ ì •ë¦¬ ì‹œê°„

í•­ëª©: ì¥ì „ ì²­ì‚° ê¸°ëŠ¥
ê°’: í™œì„±í™”
ì„¤ëª…: 09:00-09:01 ì¥ì „ ì²­ì‚° ì‹¤í–‰

## ğŸš¨ ê¸´ê¸‰ ë§¤ë„ ê·œì¹™ (Emergency Sell)

í•­ëª©: ê¸‰ë½ ê°ì§€ í™œì„±í™”
ê°’: True
ì„¤ëª…: ê¸‰ë½ ìƒí™© ìë™ ê°ì§€ ê¸°ëŠ¥

í•­ëª©: ê¸‰ë½ ê¸°ì¤€
ê°’: -3.0%
ì„¤ëª…: ê¸‰ë½ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” í•˜ë½ë¥  ê¸°ì¤€

í•­ëª©: VI ê°ì§€ í™œì„±í™”
ê°’: True
ì„¤ëª…: ë³€ë™ì„±ì™„í™”ì¥ì¹˜(VI) ë°œë™ ê°ì§€

í•­ëª©: ê±°ë˜ëŸ‰ ê¸‰ì¦ ë¹„ìœ¨
ê°’: 3.0ë°°
ì„¤ëª…: í‰ê·  ëŒ€ë¹„ ê±°ë˜ëŸ‰ ê¸‰ì¦ ê¸°ì¤€

í•­ëª©: ê¸‰ë½ì‹œ ì¦‰ì‹œ ë§¤ë„
ê°’: True
ì„¤ëª…: ê¸‰ë½ ê°ì§€ì‹œ ë§¤ë§¤ê°„ê²© ë¬´ì‹œí•˜ê³  ì¦‰ì‹œ ë§¤ë„

í•­ëª©: VIì‹œ ì¦‰ì‹œ ë§¤ë„
ê°’: True
ì„¤ëª…: VI ë°œë™ì‹œ ë§¤ë§¤ê°„ê²© ë¬´ì‹œí•˜ê³  ì¦‰ì‹œ ë§¤ë„

## ğŸ“ ì£¼ë¬¸ ê´€ë¦¬ (Order Management)

í•­ëª©: ì£¼ë¬¸ íƒ€ì„ì•„ì›ƒ
ê°’: 300ì´ˆ (5ë¶„)
ì„¤ëª…: ì£¼ë¬¸ ì‹¤í–‰ ìµœëŒ€ ëŒ€ê¸° ì‹œê°„

í•­ëª©: ì£¼ë¬¸ ì¬ì‹œë„ íšŸìˆ˜
ê°’: 3íšŒ
ì„¤ëª…: ì£¼ë¬¸ ì‹¤íŒ¨ì‹œ ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜

í•­ëª©: ë¶€ë¶„ì²´ê²° í—ˆìš© ë¹„ìœ¨
ê°’: 80%
ì„¤ëª…: ë¶€ë¶„ì²´ê²° í—ˆìš© ìµœì†Œ ë¹„ìœ¨

í•­ëª©: í˜¸ê°€ ì´íƒˆ í—ˆìš©ë²”ìœ„
ê°’: 2%
ì„¤ëª…: í˜„ì¬ê°€ ëŒ€ë¹„ ì£¼ë¬¸ê°€ê²© í—ˆìš© ë²”ìœ„

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ì„¤ì • (Monitoring)

í•­ëª©: í¬ì§€ì…˜ ì²´í¬ ê°„ê²©
ê°’: 60ì´ˆ (1ë¶„)
ì„¤ëª…: ë³´ìœ  í¬ì§€ì…˜ ìƒíƒœ í™•ì¸ ì£¼ê¸°

í•­ëª©: ì‹œì¥ ìŠ¤ìº” ê°„ê²©
ê°’: 300ì´ˆ (5ë¶„)
ì„¤ëª…: ì „ì²´ ì‹œì¥ ìƒí™© ìŠ¤ìº” ì£¼ê¸°

í•­ëª©: ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ ê°„ê²©
ê°’: 600ì´ˆ (10ë¶„)
ì„¤ëª…: ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ ì£¼ê¸°

í•­ëª©: ë°ì´í„° ê°±ì‹  ê°„ê²©
ê°’: 900ì´ˆ (15ë¶„)
ì„¤ëª…: ì‹œì¥ ë°ì´í„° ê°±ì‹  ì£¼ê¸°

## ğŸ” ì¢…ëª© í•„í„°ë§ (Stock Filters)

í•­ëª©: ìµœì†Œ ê±°ë˜ëŸ‰
ê°’: 100,000ì£¼
ì„¤ëª…: ë§¤ë§¤ ê°€ëŠ¥ ì¢…ëª© ìµœì†Œ ì¼ì¼ ê±°ë˜ëŸ‰

í•­ëª©: ìµœì†Œ ì‹œê°€ì´ì•¡
ê°’: 1,000ì–µì›
ì„¤ëª…: ë§¤ë§¤ ê°€ëŠ¥ ì¢…ëª© ìµœì†Œ ì‹œê°€ì´ì•¡

í•­ëª©: ìµœëŒ€ ë³€ë™ì„±
ê°’: 15%
ì„¤ëª…: ë§¤ë§¤ ê°€ëŠ¥ ì¢…ëª© ìµœëŒ€ ì¼ì¼ ë³€ë™ì„±

í•­ëª©: ì œì™¸ ì—…ì¢…
ê°’: [] (í˜„ì¬ ì—†ìŒ)
ì„¤ëª…: ë§¤ë§¤ì—ì„œ ì œì™¸í•  ì—…ì¢… ëª©ë¡

í•­ëª©: ë¸”ë™ë¦¬ìŠ¤íŠ¸
ê°’: [] (í˜„ì¬ ì—†ìŒ)
ì„¤ëª…: ë§¤ë§¤ ê¸ˆì§€ ì¢…ëª© ëª©ë¡

## ğŸ’° ê±°ë˜ ë¹„ìš© (Trading Costs)

í•­ëª©: ë§¤ìˆ˜ ìˆ˜ìˆ˜ë£Œìœ¨
ê°’: 0.15%
ì„¤ëª…: ë§¤ìˆ˜ì‹œ ì ìš©ë˜ëŠ” ìˆ˜ìˆ˜ë£Œìœ¨

í•­ëª©: ë§¤ë„ ìˆ˜ìˆ˜ë£Œìœ¨
ê°’: 0.15%
ì„¤ëª…: ë§¤ë„ì‹œ ì ìš©ë˜ëŠ” ìˆ˜ìˆ˜ë£Œìœ¨

í•­ëª©: ë§¤ë„ì„¸ìœ¨
ê°’: 0.25%
ì„¤ëª…: ë§¤ë„ì‹œ ì ìš©ë˜ëŠ” ì¦ê¶Œê±°ë˜ì„¸

í•­ëª©: ìŠ¬ë¦¬í”¼ì§€ìœ¨
ê°’: 0.1%
ì„¤ëª…: ì˜ˆìƒ ìŠ¬ë¦¬í”¼ì§€ (ì‹œì¥ ì¶©ê²© ë¹„ìš©)

í•­ëª©: ìµœì†Œ ìˆ˜ìˆ˜ë£Œ
ê°’: 1,000ì›
ì„¤ëª…: ê±°ë˜ë‹¹ ìµœì†Œ ìˆ˜ìˆ˜ë£Œ

## ğŸ¯ VI ê°ì§€ ì„¤ì • (Volatility Interruption)

ìœ„í—˜ë„: LOW
ë³€ë™ë¥  ê¸°ì¤€: 5%
ì¡°ì¹˜ ì‚¬í•­: ê±°ë˜ ì§€ì†

ìœ„í—˜ë„: MEDIUM
ë³€ë™ë¥  ê¸°ì¤€: 10%
ì¡°ì¹˜ ì‚¬í•­: í¬ì§€ì…˜ ì¶•ì†Œ

ìœ„í—˜ë„: HIGH
ë³€ë™ë¥  ê¸°ì¤€: 15%
ì¡°ì¹˜ ì‚¬í•­: ì¦‰ì‹œ ë§¤ë„

## ğŸ”„ API ì œí•œ (Rate Limiting)

í•­ëª©: ë¶„ë‹¹ ìµœëŒ€ API í˜¸ì¶œ
ê°’: 20íšŒ
ì„¤ëª…: API ì„œë²„ ë¶€í•˜ ë°©ì§€ë¥¼ ìœ„í•œ ì œí•œ

í•­ëª©: ìš”ì²­ ê°„ ì§€ì—°ì‹œê°„
ê°’: 1.0ì´ˆ
ì„¤ëª…: API ìš”ì²­ ì‚¬ì´ ìµœì†Œ ëŒ€ê¸° ì‹œê°„

í•­ëª©: ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜
ê°’: 3íšŒ
ì„¤ëª…: API í˜¸ì¶œ ì‹¤íŒ¨ì‹œ ìµœëŒ€ ì¬ì‹œë„

## ğŸ® ë°±í…ŒìŠ¤íŒ… ì„¤ì • (Backtesting)

í•­ëª©: ì´ˆê¸° ìë³¸ê¸ˆ
ê°’: 10,000,000ì›
ì„¤ëª…: ë°±í…ŒìŠ¤íŒ… ì‹œì‘ ìë³¸ê¸ˆ

í•­ëª©: ìµœëŒ€ í¬ì§€ì…˜ í¬ê¸°
ê°’: 20%
ì„¤ëª…: ë°±í…ŒìŠ¤íŒ…ì—ì„œ ë‹¨ì¼ ì¢…ëª© ìµœëŒ€ ë¹„ì¤‘

í•­ëª©: ìµœëŒ€ ë³´ìœ  ì¢…ëª©ìˆ˜
ê°’: 5ê°œ
ì„¤ëª…: ë°±í…ŒìŠ¤íŒ…ì—ì„œ ë™ì‹œ ë³´ìœ  ê°€ëŠ¥ ì¢…ëª© ìˆ˜

í•­ëª©: ë¬´ìœ„í—˜ ìˆ˜ìµë¥ 
ê°’: 2.5%
ì„¤ëª…: ì—°ê°„ ë¬´ìœ„í—˜ ìˆ˜ìµë¥  (êµ­ê³ ì±„ ê¸°ì¤€)

í•­ëª©: ë²¤ì¹˜ë§ˆí¬
ê°’: KOSPI200
ì„¤ëª…: ì„±ê³¼ ë¹„êµ ê¸°ì¤€ ì§€ìˆ˜

í•­ëª©: ë¦¬ë°¸ëŸ°ì‹± ì£¼ê¸°
ê°’: ì¼ì¼
ì„¤ëª…: í¬íŠ¸í´ë¦¬ì˜¤ ì¬ì¡°ì • ì£¼ê¸°

## ğŸ“ ì„¤ì • íŒŒì¼ ìœ„ì¹˜

ì£¼ìš” ì„¤ì • íŒŒì¼ë“¤:
- support/trading_rules.json: ë§¤ë§¤ ê·œì¹™ JSON ì„¤ì •
- support/trading_rules.py: ë§¤ë§¤ ê·œì¹™ ê´€ë¦¬ í´ë˜ìŠ¤
- backtesting/backtesting_config.json: ë°±í…ŒìŠ¤íŒ… ì„¤ì •
- support/api_connector.py: API ì—°ê²° ë° ì œí•œ ì„¤ì •

## âš ï¸ ì¤‘ìš” ì‚¬í•­

1.


===== Basic_Algorithm.py =====
"""
ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜ - tideWise ê¸°ë³¸ ë§¤ë§¤ ì „ëµ
ì‚¬ìš©ìê°€ ë³„ë„ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œ ìë™ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì•ˆì „í•œ ê¸°ë³¸ ì•Œê³ ë¦¬ì¦˜
"""

import pandas as pd
import numpy as np
from typing import Dict, Any
import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent.parent))

from support.algorithm_interface import BaseAlgorithm

class DefaultAlgorithm(BaseAlgorithm):
    """ê¸°ë³¸ ì•ˆì „ ë§¤ë§¤ ì•Œê³ ë¦¬ì¦˜"""
    
    def __init__(self):
        super().__init__()
        self.algorithm_name = "DefaultAlgorithm"
        self.description = "tideWise Default Safe Trading Algorithm"
        
        # ë§¤ìš° ë³´ìˆ˜ì ì¸ ë§¤ê°œë³€ìˆ˜
        self.sma_short = 5
        self.sma_long = 20
        self.rsi_period = 14
        self.rsi_oversold = 35
        self.rsi_overbought = 65
        self.volume_threshold = 2.0
    
    def analyze(self, data: pd.DataFrame, **kwargs) -> Dict[str, Any]:
        """
        ë§¤ìš° ë³´ìˆ˜ì ì¸ ë¶„ì„ ë¡œì§
        ê¸°ë³¸ì ìœ¼ë¡œ HOLDë¥¼ ì„ í˜¸í•˜ë©°, ë§¤ìš° í™•ì‹¤í•œ ì‹ í˜¸ì—ì„œë§Œ ë§¤ìˆ˜/ë§¤ë„
        """
        try:
            if data is None or data.empty or len(data) < self.sma_long:
                return {
                    'recommendation': 'HOLD',
                    'confidence': 20,
                    'algorithm': self.algorithm_name,
                    'note': 'Insufficient data for analysis'
                }
            
            # ê¸°ë³¸ ì§€í‘œ ê³„ì‚°
            data = data.copy()
            data['SMA_short'] = data['close'].rolling(window=self.sma_short).mean()
            data['SMA_long'] = data['close'].rolling(window=self.sma_long).mean()
            
            # RSI ê³„ì‚°
            delta = data['close'].diff()
            gain = (delta.where(delta > 0, 0)).rolling(window=self.rsi_period).mean()
            loss = (-delta.where(delta < 0, 0)).rolling(window=self.rsi_period).mean()
            rs = gain / loss
            data['RSI'] = 100 - (100 / (1 + rs))
            
            # ìµœì‹  ë°ì´í„°
            latest = data.iloc[-1]
            
            # ë§¤ìš° ë³´ìˆ˜ì ì¸ ë§¤ìˆ˜ ì¡°ê±´
            buy_conditions = [
                latest['SMA_short'] > latest['SMA_long'],  # ë‹¨ê¸° > ì¥ê¸° ì´í‰
                latest['RSI'] < self.rsi_oversold,         # ê³¼ë§¤ë„
                latest['volume'] > data['volume'].rolling(20).mean() * self.volume_threshold  # ê±°ë˜ëŸ‰ ì¦ê°€
            ]
            
            # ë§¤ë„ ì¡°ê±´
            sell_conditions = [
                latest['SMA_short'] < latest['SMA_long'],  # ë‹¨ê¸° < ì¥ê¸° ì´í‰
                latest['RSI'] > self.rsi_overbought        # ê³¼ë§¤ìˆ˜
            ]
            
            # ê²°ì • ë¡œì§ (ë§¤ìš° ë³´ìˆ˜ì )
            if all(buy_conditions):
                return {
                    'recommendation': 'BUY',
                    'confidence': 40,  # ë‚®ì€ ì‹ ë¢°ë„ë¡œ ë³´ìˆ˜ì  ë§¤ìˆ˜
                    'algorithm': self.algorithm_name,
                    'note': 'Conservative buy signal detected'
                }
            elif any(sell_conditions):
                return {
                    'recommendation': 'SELL',
                    'confidence': 45,  # ì†ì ˆ/ìµì ˆì—ëŠ” ì¡°ê¸ˆ ë” ì ê·¹ì 
                    'algorithm': self.algorithm_name,
                    'n


===== Basic-DayTrading.py =====
"""
tideWise í†µí•© ë‹¨íƒ€ë§¤ë§¤ ì•Œê³ ë¦¬ì¦˜
ê¸°ë³¸ ê±°ë˜ëŸ‰Â·ê°€ê²© ê¸°ë°˜ ë§¤ë§¤ ë¡œì§ì„ ë‹¨íƒ€ë§¤ë§¤ì— ìµœì í™”í•œ í†µí•© ì „ëµ
tideWise ë‹¨íƒ€ë§¤ë§¤ ì •ì±… (3ë¶„ë´‰ ê±°ë˜ëŸ‰Â·ê°€ê²© ê²°í•© ë¡œì§) ì™„ì „ ì ìš©
"""

import pandas as pd
import numpy as np
from typing import Dict, Any, List, Optional, Tuple
from datetime import datetime, time
import sys
from pathlib import Path
sys.path.append(str(Path(__file__).parent.parent))

from support.algorithm_interface import BaseAlgorithm


class BasicDayTrading(BaseAlgorithm):
    """tideWise í†µí•© ë‹¨íƒ€ë§¤ë§¤ ì•Œê³ ë¦¬ì¦˜ - ê±°ë˜ëŸ‰Â·ê°€ê²© ê¸°ë°˜"""
    
    def __init__(self):
        super().__init__()
        self.algorithm_name = "BasicDayTrading"
        self.description = "tideWise í†µí•© ë‹¨íƒ€ë§¤ë§¤ ì•Œê³ ë¦¬ì¦˜ - ê±°ë˜ëŸ‰Â·ê°€ê²© ì •ì±… ì ìš©"
        
        # tideWise ë‹¨íƒ€ë§¤ë§¤ ì •ì±… íŒŒë¼ë¯¸í„° (3ë¶„ë´‰ ê¸°ì¤€)
        # ê¸°ê°„ ì§€í‘œ
        self.ema_fast = 5  # EMA_fast = 5
        self.ema_slow = 20  # EMA_slow = 20
        self.rsi_length = 7  # RSI_len = 7
        self.v_avg_length = 20  # V_avg_len = 20 (3ë¶„ë´‰ 20ê°œ â‰ˆ 60ë¶„)
        
        # ì„ê³„ì¹˜
        self.k_buy = 2.2  # ê±°ë˜ëŸ‰ ê¸‰ë“± ë°°ìˆ˜: í˜„ì¬ë´‰ ê±°ë˜ëŸ‰ â‰¥ K_buy Ã— V20
        self.rsi_buy_zone = [55, 75]  # RSI_buy_zone = [55, 75]
        self.vol_fade = 0.5  # ê±°ë˜ëŸ‰ ì†Œë©¸: í˜„ì¬ë´‰ ê±°ë˜ëŸ‰ â‰¤ Vol_fade Ã— V20
        
        # ë¦¬ìŠ¤í¬ ê´€ë¦¬
        self.stop_loss_pct = -0.02  # SL = -2.0% (ì§„ì…ê°€ ê¸°ì¤€ ì†ì ˆ)
        self.take_profit_1 = 0.03  # TP1 = +3.0% (1ì°¨ ìµì ˆ, 50% ì²­ì‚°)
        self.trailing_trigger = 0.02  # TS_trigger = +2.0% ì´í›„ Trailing
        
        # ì‹ í˜¸ íŒŒë¼ë¯¸í„°
        self.min_surge_stocks = 10  # ìµœì†Œ ê¸‰ë“±ì¢…ëª© ìˆ˜ì§‘ ê°œìˆ˜ (ì™„í™”)
        self.top_selection = 1  # ìƒìœ„ ì„ íƒ ì¢…ëª© ìˆ˜ (ì§‘ì¤‘)
        self.sell_order_ratio = 2.0  # ë§¤ë„/ë§¤ìˆ˜ ì£¼ë¬¸ ë¹„ìœ¨ ì„ê³„ê°’
        
        # ì¢…ëª©ë³„ ë³´ìœ  ì •ë³´
        self.holdings = {}  # {symbol: {'price': float, 'quantity': int, 'time': datetime}}
        
        # ì‚¬ì´í´ ê´€ë¦¬ (3ë¶„ë´‰ ê¸°ì¤€)
        self.cycle_interval = 180  # 3ë¶„ (ì´ˆ)
        self.last_cycle_time = None
        
        # ì‹œê°„ ê·œì¹™ (ë‹¨íƒ€ë§¤ë§¤ ì •ì±…)
        self.entry_cutoff = time(14, 30)  # ì‹ ê·œ ì§„ì… ê¸ˆì§€: 14:30 ì´í›„
        self.market_close = time(14, 55)  # ì „ëŸ‰ ì²­ì‚°: 14:55
        
        # ìƒíƒœ ê´€ë¦¬
        self.half_taken = {}  # ì¢…ëª©ë³„ ì ˆë°˜ ìµì ˆ ìƒíƒœ
        
    def get_name(self) -> str:
        return "tideWise í†µí•© ë‹¨íƒ€ë§¤ë§¤ ì•Œê³ ë¦¬ì¦˜"
    
    def get_version(self) -> str:
        return "2.0"
    
    def get_description(self) -> str:
        return "tideWise ê¸°ë³¸ ê±°ë˜ëŸ‰Â·ê°€ê²© ë¡œì§ì„ ë‹¨íƒ€ë§¤ë§¤ì— ìµœì í™”í•œ í†µí•© ì „ëµ"
    
    def analyze(self, data: pd.DataFrame, **kwargs) -> Dict[str, Any]:
        """tideWise ë‹¨íƒ€ë§¤ë§¤ ì •ì±… ê¸°ë°˜ ë§¤ë§¤ ì‹ í˜¸ ë¶„ì„"""
        try:
            # í˜„ì¬ ì‹œê°„ í™•ì¸
            current_time = datetime.now().time()
            
            # ì‹œê°„ ê·œì¹™ ì ìš©
            if current_time >= self.market_close:
                return self._generate_close_signal()
            
            allow_new_entry = current_time < self.entry_cutoff
            
            # ë³´ìœ  ì¢…ëª© ëª¨ë‹ˆí„°ë§ (ìš°ì„ ìˆœìœ„)
            if self.holdings:
                return self._monitor_holdings_with_policy(data, **kwargs)
            
            # ì‹ ê·œ ì§„ì… ê°€ëŠ¥ ì‹œê°„ì—ë§Œ ìƒˆ ì¢…ëª© íƒìƒ‰
            if allow_new_entry and self._is_new_cycle():
                return self._find_stocks_with_policy(data, **kwargs)


===== Korea_Algorithm.pine =====
//@version=5
strategy("tideWise í†µí•© ë‹¨íƒ€ë§¤ë§¤ ì „ëµ", shorttitle="K-DayTrading", overlay=true, 
         initial_capital=10000000, default_qty_value=1000000, 
         pyramiding=1, commission_type=strategy.commission.percent, 
         commission_value=0.35, max_bars_back=1000)

// === tideWise ë‹¨íƒ€ë§¤ë§¤ ì •ì±… íŒŒë¼ë¯¸í„° (3ë¶„ë´‰ ê¸°ì¤€) ===
// ê¸°ê°„ ì§€í‘œ
ema_fast_period = input.int(5, title="EMA Fast ê¸°ê°„", minval=3, maxval=10)
ema_slow_period = input.int(20, title="EMA Slow ê¸°ê°„", minval=15, maxval=30)
rsi_period = input.int(7, title="RSI ê¸°ê°„", minval=5, maxval=14)
v_avg_period = input.int(20, title="ê±°ë˜ëŸ‰ í‰ê·  ê¸°ê°„", minval=15, maxval=30)

// ì„ê³„ì¹˜
k_buy = input.float(2.2, title="ê±°ë˜ëŸ‰ ê¸‰ë“± ë°°ìˆ˜ (K_buy)", minval=1.8, maxval=3.0, step=0.1)
rsi_buy_min = input.int(55, title="RSI ë§¤ìˆ˜ í•˜í•œ", minval=50, maxval=60)
rsi_buy_max = input.int(75, title="RSI ë§¤ìˆ˜ ìƒí•œ", minval=70, maxval=80)
vol_fade = input.float(0.5, title="ê±°ë˜ëŸ‰ ì†Œë©¸ ë°°ìˆ˜", minval=0.3, maxval=0.7, step=0.1)

// ë¦¬ìŠ¤í¬ ê´€ë¦¬
stop_loss_pct = input.float(2.0, title="í•˜ë“œ ìŠ¤í†± (%)", minval=1.5, maxval=3.0, step=0.1) / 100
take_profit_1_pct = input.float(3.0, title="1ì°¨ ìµì ˆ (%)", minval=2.0, maxval=5.0, step=0.1) / 100
trailing_trigger_pct = input.float(2.0, title="íŠ¸ë ˆì¼ë§ íŠ¸ë¦¬ê±° (%)", minval=1.5, maxval=3.0, step=0.1) / 100

// ì‹œê°„ ê·œì¹™
entry_cutoff_hour = input.int(14, title="ì‹ ê·œ ì§„ì… ê¸ˆì§€ ì‹œê°„", minval=13, maxval=15)
entry_cutoff_minute = input.int(30, title="ì‹ ê·œ ì§„ì… ê¸ˆì§€ ë¶„", minval=0, maxval=59)
market_close_hour = input.int(14, title="ì „ëŸ‰ ì²­ì‚° ì‹œê°„", minval=14, maxval=15)
market_close_minute = input.int(55, title="ì „ëŸ‰ ì²­ì‚° ë¶„", minval=30, maxval=59)

// === ì‹œê°„ í•„í„° ===
allow_new_entry = hour < entry_cutoff_hour or (hour == entry_cutoff_hour and minute < entry_cutoff_minute)
force_close = hour > market_close_hour or (hour == market_close_hour and minute >= market_close_minute)

// === ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚° ===
// EMA ê³„ì‚°
ema_fast = ta.ema(close, ema_fast_period)
ema_slow = ta.ema(close, ema_slow_period)

// RSI ê³„ì‚°
rsi = ta.rsi(close, rsi_period)

// VWAP (ë‹¹ì¼)
vwap = ta.vwap(hlc3)

// ê±°ë˜ëŸ‰ ë¶„ì„
volume_avg = ta.sma(volume, v_avg_period)
volume_surge = volume >= (k_buy * volume_avg)
volume_fade_signal = volume <= (vol_fade * volume_avg)

// ìŠ¤ìœ™ í•˜ì´ (ìµœê·¼ 20ë´‰ ê³ ì )
swing_high_20 = ta.highest(high, 20)
price_breakout = close > swing_high_20[1]

// === tideWise 'ì§„ì§œ ëŒíŒŒ' ì¡°ê±´ ===
// 1. ê±°ë˜ëŸ‰ í­ë°œ (V_now â‰¥ 2.2Ã—V20)
volume_condition = volume_surge

// 2. ê°€ê²© ëŒíŒŒ (ìµœê·¼ 20ë´‰ ê³ ì  ê²½ì‹ )
breakout_condition = price_breakout

// 3. VWAP ìƒë°© í•„í„°
vwap_condition = close > vwap

// 4. ë‹¨ê¸°ì¶”ì„¸ ì •ë ¬ (EMA5 > EMA20)
trend_condition = ema_fast > ema_slow

// 5. RSI í˜ìˆìœ¼ë‚˜ ê³¼ì—´ ì§ì „ (55 <= RSI <= 75)
rsi_condition = rsi >= rsi_buy_min and rsi <= rsi_buy_max

// 6. ì–‘ë´‰ ë§ˆê°
bullish_condition = close > open

// === ì§„ì§œ ëŒíŒŒ ë§¤ìˆ˜ ì‹ í˜¸ ===
real_breakout_signal = allow_new_entry and volume_condition and breakout_condition and 
                      vwap_condition and trend_condition and rsi_condition and bullish_condition

// === ë§¤ë„ ì¡°ê±´ë“¤ ===
var float entry_price = na
var bool half_taken = false

// í˜„ì¬ ìˆ˜ìµë¥  ê³„ì‚°
current_return = strategy.position_size > 0 ? (close - entry_price

